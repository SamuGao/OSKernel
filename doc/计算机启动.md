# 计算机初始化
> 当计算机上电初始化时，物理内存被设置成从地址0开始的连续区域。除了地址从0xA0000到0xFFFFF（640K到1M共384K）和0xFFFE0000到0xFFFFFFFF（4G处的最后64K）范围以外的所有内存都可用作系统内存，这两个特定范围被用于I/O设备和BIOS程序。   
> 当计算机系统上电开机或者按了机箱上的复位按钮时，CPU会自动把代码段寄存器CS设置为0xF000，其段基地址则被设置为0xFFFF0000，段长度设置为64KB。而IP被设置为0xFFF0，因此此时CPU代码指针指向0xFFFFFFF0处，即4G空间最后一个64K的最后16字节处，并且BIOS会在这里存放一条跳转指令JMP转跳到BIOS代码中64KB范围内的某一条指令开始执行。  

BIOS代码执行完开机检查等动作后，会把硬盘或其他设备的第一扇区512B的代码加载到内存0x7c00处，并跳转到这个地方开始执行程序。
# 软盘结构
开机后会把启动设备前512B的程序读进0x7c00处，如果启动设备是软盘，那么刚好是软盘的一个扇区。以前常见的3.5寸1.44M软盘有两个磁头，正反面各一个，80个磁道，每个磁道18个扇区，每个扇区512字节，所以   
`容量=512字节/扇区*2面*80磁道*18扇区/磁道=1440KB`
# BIOS INT 0x13中断
***
`INT 0x13, 功能02`   
***
`参数：`

`AH          02`

`AL          读取扇区数`

`CH          柱面[0,79]`

`CL          扇区[1, 18]`

`DH          磁头[0, 1]`

`DL          驱动器（0x0 ~ 0x7f表示软盘，0x80 ~ 0xff表示硬盘）`

`ES:BX       缓冲区地址，即数据读到这里`

`返回值`

`CF=0        表示操作成功，此时AH=0, AL=传输的扇区数`

`CF=1        即carry位置位（可用JC表示跳转）表示操作失败，AH=状态吗`


# 引导程序



